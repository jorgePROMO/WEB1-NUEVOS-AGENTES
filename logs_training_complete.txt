2025-11-20 13:21:27,938 - __main__ - INFO - ====================================================================================================
2025-11-20 13:21:27,938 - __main__ - INFO - üöÄ TEST END-TO-END - ENTRENAMIENTO INICIAL COMPLETO (v1)
2025-11-20 13:21:27,938 - __main__ - INFO - ====================================================================================================
2025-11-20 13:21:27,938 - __main__ - INFO - 
2025-11-20 13:21:27,938 - __main__ - INFO - üìã PASO 1: Creando cuestionario inicial realista...
2025-11-20 13:21:27,938 - __main__ - INFO - ‚úÖ Cuestionario creado:
2025-11-20 13:21:27,938 - __main__ - INFO -    - Cliente: Juan P√©rez Garc√≠a
2025-11-20 13:21:27,938 - __main__ - INFO -    - Edad: 32 a√±os
2025-11-20 13:21:27,938 - __main__ - INFO -    - Objetivo: hipertrofia
2025-11-20 13:21:27,938 - __main__ - INFO -    - Nivel: intermedio
2025-11-20 13:21:27,938 - __main__ - INFO -    - Disponibilidad: 4 d√≠as x 60 min
2025-11-20 13:21:27,938 - __main__ - INFO -    - Lesiones: 1 activa(s)
2025-11-20 13:21:27,938 - __main__ - INFO - 
2025-11-20 13:21:27,938 - __main__ - INFO - üîß PASO 2: Inicializando orchestrator...
2025-11-20 13:21:28,456 - edn360.orchestrator - INFO - ‚úÖ Bases de conocimiento cargadas: Training KB (86468 chars), Nutrition KB (83355 chars)
2025-11-20 13:21:28,456 - __main__ - INFO - ‚úÖ Orchestrator inicializado correctamente
2025-11-20 13:21:28,456 - __main__ - INFO -    - KB Training: 86468 caracteres
2025-11-20 13:21:28,456 - __main__ - INFO -    - KB Nutrition: 83355 caracteres
2025-11-20 13:21:28,456 - __main__ - INFO - 
2025-11-20 13:21:28,456 - __main__ - INFO - ‚öôÔ∏è PASO 3: Ejecutando flujo completo E1 ‚Üí E2 ‚Üí E3 ‚Üí E4 ‚Üí E5 ‚Üí E6 ‚Üí E7 ‚Üí E8 ‚Üí E9...
2025-11-20 13:21:28,456 - __main__ - INFO -    (Este proceso puede tomar varios minutos)
2025-11-20 13:21:28,456 - __main__ - INFO - 
2025-11-20 13:21:28,456 - edn360.orchestrator - INFO -   üîß Inicializando client_context...
2025-11-20 13:21:28,456 - edn360.orchestrator - INFO -   ‚úÖ client_context inicializado: v1, snapshot_id=snapshot_client_juan_perez_e2e_1_64f5dd84
2025-11-20 13:21:28,456 - edn360.orchestrator - INFO -   ‚ñ∂Ô∏è Ejecutando E1 (Analista del Atleta)...
2025-11-20 13:21:28,457 - edn360.agents.base_agent - INFO - ü§ñ E1 (Analista del Atleta) - Iniciando ejecuci√≥n
2025-11-20 13:21:28,457 - edn360.agents.base_agent - INFO - üìö E1 usando KB de 86468 caracteres
2025-11-20 13:21:28,741 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-11-20 13:21:28,741 - openai._base_client - INFO - Retrying request to /chat/completions in 6.292000 seconds
2025-11-20 13:21:59,186 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-20 13:21:59,191 - edn360.agents.base_agent - INFO - üìù E1 respuesta (primeros 500 chars): ```json
{
  "client_context": {
    "meta": {
      "client_id": "client_juan_perez_e2e",
      "snapshot_id": "snapshot_client_juan_perez_e2e_1_64f5dd84",
      "version": 1,
      "selected_inputs": {
        "cuestionario": "unknown",
        "entrenamiento_base": null
      }
    },
    "raw_inputs": {
      "cuestionario_inicial": "{\n  \"client_id\": \"client_juan_perez_e2e\",\n  \"version\": 1,\n  \"timestamp\": \"2025-11-20T13:21:27.938761\",\n  \"nombre\": \"Juan P√©rez Garc√≠a\",\n  \"ed
2025-11-20 13:21:59,191 - edn360.agents.base_agent - ERROR - ‚ùå No se pudo extraer JSON de la respuesta de E1
2025-11-20 13:21:59,191 - edn360.agents.base_agent - ERROR - Respuesta completa (primeros 1000 chars): ```json
{
  "client_context": {
    "meta": {
      "client_id": "client_juan_perez_e2e",
      "snapshot_id": "snapshot_client_juan_perez_e2e_1_64f5dd84",
      "version": 1,
      "selected_inputs": {
        "cuestionario": "unknown",
        "entrenamiento_base": null
      }
    },
    "raw_inputs": {
      "cuestionario_inicial": "{\n  \"client_id\": \"client_juan_perez_e2e\",\n  \"version\": 1,\n  \"timestamp\": \"2025-11-20T13:21:27.938761\",\n  \"nombre\": \"Juan P√©rez Garc√≠a\",\n  \"edad\": 32,\n  \"sexo\": \"M\",\n  \"peso_actual_kg\": 78,\n  \"altura_cm\": 175,\n  \"porcentaje_grasa_estimado\": 18,\n  \"objetivo_principal\": \"hipertrofia\",\n  \"objetivo_secundario\": \"mejorar composicion corporal\",\n  \"plazo\": \"6 meses\",\n  \"motivacion\": \"alta\",\n  \"razon_principal\": \"Quiero ganar masa muscular y verme mejor\",\n  \"experiencia_entrenamiento\": \"3 a√±os gym intermitente\",\n  \"nivel_estimado\": \"intermedio\",\n  \"deportes_previos\": [\n    \"futbol amateur
2025-11-20 13:21:59,191 - edn360.agents.base_agent - ERROR - ‚ùå Error parseando respuesta de E1. Respuesta completa guardada en /app/debug_response_E1.txt
2025-11-20 13:21:59,192 - edn360.agents.base_agent - ERROR - ‚ùå E1 fall√≥: Error procesando output de E1: No se pudo extraer JSON v√°lido de la respuesta del agente E1
2025-11-20 13:21:59,192 - edn360.orchestrator - ERROR -   ‚ùå E1 fall√≥: Error procesando output de E1: No se pudo extraer JSON v√°lido de la respuesta del agente E1
2025-11-20 13:21:59,192 - __main__ - ERROR - ‚ùå Flujo fall√≥: E1 fall√≥: Error procesando output de E1: No se pudo extraer JSON v√°lido de la respuesta del agente E1
2025-11-20 13:21:59,192 - __main__ - ERROR -    Revisa los logs arriba para identificar en qu√© agente fall√≥

‚ùå Test E2E fall√≥
üìÑ Revisa /app/logs_training_e2e.txt para detalles
