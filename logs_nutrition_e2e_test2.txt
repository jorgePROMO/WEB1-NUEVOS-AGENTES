2025-11-20 14:30:46,651 - __main__ - INFO - ====================================================================================================
2025-11-20 14:30:46,651 - __main__ - INFO - ğŸš€ TEST END-TO-END - NUTRICIÃ“N INICIAL (N0-N8)
2025-11-20 14:30:46,651 - __main__ - INFO - ====================================================================================================
2025-11-20 14:30:46,651 - __main__ - INFO - 
2025-11-20 14:30:46,651 - __main__ - INFO - ğŸ“‹ PASO 1: Cargando client_context con training completo...
2025-11-20 14:30:46,652 - __main__ - INFO - âœ… client_context cargado correctamente
2025-11-20 14:30:46,652 - __main__ - INFO -    - Cliente: client_juan_perez_e2e
2025-11-20 14:30:46,652 - __main__ - INFO -    - Snapshot: snapshot_client_juan_perez_e2e_1_f5e4abe8
2025-11-20 14:30:46,652 - __main__ - INFO -    - VersiÃ³n: 1
2025-11-20 14:30:46,652 - __main__ - INFO - âœ… training.bridge_for_nutrition detectado
2025-11-20 14:30:46,652 - __main__ - INFO - 
2025-11-20 14:30:46,652 - __main__ - INFO - ğŸ”§ PASO 2: Inicializando orchestrator...
2025-11-20 14:30:47,170 - edn360.orchestrator - INFO - âœ… Bases de conocimiento cargadas: Training KB (86468 chars), Nutrition KB (83355 chars)
2025-11-20 14:30:47,170 - __main__ - INFO - âœ… Orchestrator inicializado correctamente
2025-11-20 14:30:47,171 - __main__ - INFO -    - KB Nutrition: 83355 caracteres
2025-11-20 14:30:47,171 - __main__ - INFO - 
2025-11-20 14:30:47,171 - __main__ - INFO - âš™ï¸ PASO 3: Ejecutando flujo completo N0 â†’ N1 â†’ N2 â†’ N3 â†’ N4 â†’ N5 â†’ N6 â†’ N7 â†’ N8...
2025-11-20 14:30:47,171 - __main__ - INFO -    (Este proceso puede tomar varios minutos)
2025-11-20 14:30:47,171 - __main__ - INFO - 
2025-11-20 14:30:47,171 - edn360.orchestrator - INFO - ğŸ¥— EJECUTANDO PIPELINE DE NUTRICIÃ“N INDEPENDIENTE
2025-11-20 14:30:47,171 - edn360.orchestrator - INFO -    Client: client_juan_perez_e2e, Snapshot: snapshot_client_juan_perez_e2e_1_f5e4abe8
2025-11-20 14:30:47,171 - edn360.orchestrator - INFO -   ğŸ¥— INICIANDO PIPELINE DE NUTRICIÃ“N (N0-N8)
2025-11-20 14:30:47,171 - edn360.orchestrator - INFO -   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2025-11-20 14:30:47,171 - edn360.orchestrator - INFO -   âœ… training.bridge_for_nutrition detectado
2025-11-20 14:30:47,171 - edn360.orchestrator - INFO -   â–¶ï¸ Ejecutando N0 (Analista de Triaje Nutricional)...
2025-11-20 14:30:47,172 - edn360.orchestrator - INFO -     â„¹ï¸ N0 no recibe KB (optimizaciÃ³n de contexto)
2025-11-20 14:30:47,172 - edn360.agents.base_agent - INFO - ğŸ¤– N0 (Analista de Triaje Nutricional) - Iniciando ejecuciÃ³n
2025-11-20 14:32:40,838 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 2025-11-20 14:35:14,745 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-20 14:35:14,793 - edn360.agents.base_agent - INFO - ğŸ“ N0 respuesta (primeros 500 chars): ```json
{
  "client_context": {
    "meta": {
      "client_id": "client_juan_perez_e2e",
      "snapshot_id": "snapshot_client_juan_perez_e2e_1_f5e4abe8",
      "version": 1,
      "selected_inputs": {
        "cuestionario": "unknown",
        "entrenamiento_base": null
      }
    },
    "raw_inputs": {
      "cuestionario_inicial": "{\n  \"client_id\": \"client_juan_perez_e2e\",\n  \"version\": 1,\n  \"timestamp\": \"2025-11-20T13:37:00.955160\",\n  \"nombre\": \"Juan PÃ©rez GarcÃ­a\",\n  \"ed
2025-11-20 14:35:14,796 - edn360.agents.base_agent - ERROR - âŒ No se pudo extraer JSON de la respuesta de N0
2025-11-20 14:35:14,796 - edn360.agents.base_agent - ERROR - Respuesta completa (primeros 1000 chars): ```json
{
  "client_context": {
    "meta": {
      "client_id": "client_juan_perez_e2e",
      "snapshot_id": "snapshot_client_juan_perez_e2e_1_f5e4abe8",
      "version": 1,
      "selected_inputs": {
        "cuestionario": "unknown",
        "entrenamiento_base": null
      }
    },
    "raw_inputs": {
      "cuestionario_inicial": "{\n  \"client_id\": \"client_juan_perez_e2e\",\n  \"version\": 1,\n  \"timestamp\": \"2025-11-20T13:37:00.955160\",\n  \"nombre\": \"Juan PÃ©rez GarcÃ­a\",\n  \"edad\": 32,\n  \"sexo\": \"M\",\n  \"peso_actual_kg\": 78,\n  \"altura_cm\": 175,\n  \"porcentaje_grasa_estimado\": 18,\n  \"objetivo_principal\": \"hipertrofia\",\n  \"objetivo_secundario\": \"mejorar composicion corporal\",\n  \"plazo\": \"6 meses\",\n  \"motivacion\": \"alta\",\n  \"razon_principal\": \"Quiero ganar masa muscular y verme mejor\",\n  \"experiencia_entrenamiento\": \"3 aÃ±os gym intermitente\",\n  \"nivel_estimado\": \"intermedio\",\n  \"deportes_previos\": [\n    \"futbol amateur
2025-11-20 14:35:14,797 - edn360.agents.base_agent - ERROR - âŒ Error parseando respuesta de N0. Respuesta completa guardada en /app/debug_response_N0.txt
2025-11-20 14:35:14,797 - edn360.agents.base_agent - ERROR - âŒ N0 fallÃ³: Error procesando output de N0: No se pudo extraer JSON vÃ¡lido de la respuesta del agente N0
2025-11-20 14:35:14,797 - edn360.orchestrator - ERROR -   âŒ N0 fallÃ³: Error procesando output de N0: No se pudo extraer JSON vÃ¡lido de la respuesta del agente N0
2025-11-20 14:35:14,797 - __main__ - ERROR - âŒ Flujo fallÃ³: N0 fallÃ³: Error procesando output de N0: No se pudo extraer JSON vÃ¡lido de la respuesta del agente N0
2025-11-20 14:35:14,797 - __main__ - ERROR -    Revisa los logs arriba para identificar en quÃ© agente fallÃ³
